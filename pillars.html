<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Miro PS Strategy - FY27 High Impact</title>
    <!-- Stable Production CDN Links -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,400;0,700;0,900;1,900&display=swap');
        
        :root {
            --miro-white: #FFFFFF;
            --miro-black: #1C1C1E;
            --miro-yellow: #FFDD33;
            --miro-cyan: #47D1C4;
            --miro-violet: #867AFF;
        }

        html, body {
            margin: 0;
            padding: 0;
            overflow: hidden; 
            background-color: var(--miro-white);
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
        }

        /* The scaling container */
        #root {
            width: 1280px;
            height: 720px;
            transform-origin: center center;
            flex-shrink: 0;
            position: relative;
            perspective: 1000px;
            transform-style: preserve-3d;
            background-color: #FFFFFF;
            /* Force visibility even if scaler lags */
            opacity: 1;
            display: block;
            visibility: visible;
        }

        .canvas-grid {
            background-image: radial-gradient(#EAEAEA 1.5px, transparent 0);
            background-size: 24px 24px;
        }

        .shatter-container {
            position: relative;
            display: inline-block;
        }
        .shatter-piece {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transition: all 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
        }
        .group:hover .shatter-1 { transform: translate(-4px, -2px) rotate(-1deg); clip-path: polygon(0 0, 100% 0, 0 100%); }
        .group:hover .shatter-2 { transform: translate(4px, 2px) rotate(1deg); clip-path: polygon(100% 0, 100% 100%, 0 100%); }

        @keyframes rocket-flight {
            0% { transform: translate(1050px, 850px) rotate(-45deg); opacity: 0; }
            10% { opacity: 1; }
            30% { transform: translate(600px, 400px) rotate(-60deg); }
            100% { transform: translate(-200px, -200px) rotate(-90deg); opacity: 1; }
        }

        @keyframes spark-float {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-40px) scale(0); opacity: 0; }
        }

        .spark {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            pointer-events: none;
            animation: spark-float 0.8s ease-out forwards;
        }

        .headline-text {
            font-weight: 900;
            font-style: italic;
            text-transform: uppercase;
            letter-spacing: -0.04em;
            line-height: 0.9;
        }

        #loading-screen {
            position: fixed;
            inset: 0;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            font-weight: 900;
            text-transform: uppercase;
            font-style: italic;
            color: #1C1C1E;
        }
    </style>
</head>
<body>
    <div id="loading-screen">Booting Strategy Board...</div>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const SparkSystem = ({ color }) => {
            const [sparks, setSparks] = useState([]);
            useEffect(() => {
                const interval = setInterval(() => {
                    const id = Date.now() + Math.random();
                    setSparks(prev => [...prev.slice(-15), { 
                        id, 
                        left: Math.random() * 100,
                        delay: Math.random() * 0.5 
                    }]);
                }, 100);
                return () => clearInterval(interval);
            }, []);

            return (
                <div className="absolute inset-0 pointer-events-none">
                    {sparks.map(s => (
                        <div key={s.id} className="spark" style={{ left: `${s.left}%`, bottom: '20%', backgroundColor: color, animationDelay: `${s.delay}s` }} />
                    ))}
                </div>
            );
        };

        const Rocket = () => (
            <div className="absolute z-50 pointer-events-none" style={{ animation: 'rocket-flight 3s infinite cubic-bezier(0.45, 0, 0.55, 1)' }}>
                <svg width="60" height="100" viewBox="0 0 60 100">
                    <path d="M30 0 L50 40 L50 80 L30 70 L10 80 L10 40 Z" fill="#1C1C1E" />
                    <path d="M10 50 L0 80 L10 70 Z" fill="#867AFF" />
                    <path d="M50 50 L60 80 L50 70 Z" fill="#867AFF" />
                    <circle cx="30" cy="30" r="8" fill="#FFDD33" />
                    <path d="M20 80 Q30 110 40 80 L30 90 Z" fill="#FFDD33">
                        <animate attributeName="d" values="M20 80 Q30 110 40 80 L30 90 Z;M20 80 Q30 130 40 80 L30 100 Z;M20 80 Q30 110 40 80 L30 90 Z" dur="0.2s" repeatCount="indefinite" />
                    </path>
                </svg>
            </div>
        );

        const ShatterText = ({ text, active }) => (
            <div className="shatter-container headline-text text-[42px]">
                <span className="opacity-0">{text}</span>
                <span className={`shatter-piece shatter-1 ${active ? 'text-white' : 'text-[#1C1C1E]'}`}>{text}</span>
                <span className={`shatter-piece shatter-2 ${active ? 'text-white' : 'text-[#1C1C1E]'}`}>{text}</span>
            </div>
        );

        const PillarCard = ({ title, body, color, icon: IconPath }) => {
            const [isHovered, setIsHovered] = useState(false);
            return (
                <div 
                    onMouseEnter={() => setIsHovered(true)}
                    onMouseLeave={() => setIsHovered(false)}
                    className="group relative h-full bg-white border-[6px] border-[#1C1C1E] rounded-[32px] p-8 overflow-hidden transition-all duration-500 hover:-translate-y-4 hover:shadow-[0_20px_0_0_#1C1C1E]"
                >
                    <div className="absolute inset-0 transition-transform duration-700 ease-in-out -translate-x-full group-hover:translate-x-0" style={{ backgroundColor: color }} />
                    {isHovered && <SparkSystem color="#FFFFFF" />}
                    <div className="relative z-10 h-full flex flex-col">
                        <div className="mb-8 w-16 h-16 bg-[#1C1C1E] rounded-2xl flex items-center justify-center text-white">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round"><IconPath /></svg>
                        </div>
                        <ShatterText text={title} active={isHovered} />
                        <p className={`mt-6 text-[18px] font-bold leading-tight transition-colors duration-300 ${isHovered ? 'text-white' : 'text-[#1C1C1E]'}`}>{body}</p>
                        <div className="mt-auto pt-8 flex gap-2">
                            {[1, 2, 3].map(i => <div key={i} className={`h-2 rounded-full transition-all duration-300 ${isHovered ? 'bg-white w-8' : 'bg-[#1C1C1E]/20 w-4'}`} />)}
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            useEffect(() => {
                // Hide loader once component mounts
                const loader = document.getElementById('loading-screen');
                if (loader) loader.style.display = 'none';

                const scaler = () => {
                    const root = document.getElementById('root');
                    if (root) {
                        const scaleVal = Math.max(0.05, Math.min(window.innerWidth / 1280, window.innerHeight / 720));
                        root.style.transform = `scale(${scaleVal}) translateZ(0)`;
                    }
                };
                window.addEventListener('resize', scaler);
                scaler();
                const t1 = setTimeout(scaler, 100);
                const t2 = setTimeout(scaler, 1000); // Failsafe for slow iFrame reports
                return () => {
                    window.removeEventListener('resize', scaler);
                    clearTimeout(t1);
                    clearTimeout(t2);
                };
            }, []);

            const data = [
                { title: "Velocity", body: "We turn vision into momentum by prioritizing speed-to-value and multi-product adoption.", color: "#47D1C4", icon: () => <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" /> },
                { title: "Excellence", body: "Delivering world-class standards through outcome-driven accountability.", color: "#FFDD33", icon: () => <circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/> },
                { title: "Efficiency", body: "Scaling via AI and repeatable patterns to reduce friction.", color: "#867AFF", icon: () => <rect x="4" y="4" width="16" height="16" rx="2"/><path d="M9 9h6v6H9zM9 1v3M15 1v3M9 20v3M15 20v3M20 9h3M20 15h3M1 9h3M1 15h3"/> }
            ];

            return (
                <div className="w-[1280px] h-[720px] bg-white canvas-grid border-[12px] border-[#1C1C1E] relative overflow-hidden flex flex-col p-12">
                    <Rocket />
                    <header className="mb-12 relative z-20">
                        <div className="inline-block bg-[#1C1C1E] text-[#FFDD33] px-4 py-1 headline-text text-[14px] mb-4">FY27 North Star Strategy</div>
                        <h1 className="headline-text text-[84px] text-[#1C1C1E]">Vision into <span className="bg-[#FFDD33] px-4 shadow-[8px_8px_0_0_#1C1C1E]">Velocity</span></h1>
                    </header>
                    <div className="flex-1 grid grid-cols-3 gap-8 relative z-20">
                        {data.map((p, i) => <PillarCard key={i} {...p} />)}
                    </div>
                    <footer className="mt-8 flex justify-between items-end headline-text text-[14px] opacity-40">
                        <div>Interactive Dashboard // Miro Edition</div>
                        <div>Â© Miro PS Group</div>
                    </footer>
                </div>
            );
        };

        // Wait for DOM and Scripts
        window.onload = () => {
            const rootElement = document.getElementById('root');
            const root = ReactDOM.createRoot(rootElement);
            root.render(<App />);
        };
    </script>
</body>
</html>
